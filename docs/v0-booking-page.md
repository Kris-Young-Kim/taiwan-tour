# V0 프롬프트: 예약/결제 페이지

## 프롬프트

대만 여행 패키지 예약 및 결제 페이지를 만들어줘. 다음 기능을 포함해야 해:

## 1. 예약 정보 요약 (좌측 사이드바 또는 상단)

### 패키지 정보
- 패키지명: "글로벌트리브 로타리 세계대회 특별 투어"
- 출발일: 2026년 6월 13일 (토요일)
- 귀국일: 2026년 6월 16일 (화요일)
- 기간: 3박 4일
- 항공: 대한항공

### 인원 및 객실 선택
- 인원수 선택: 드롭다운 (1-10명)
- 객실 유형 선택:
  - 더블룸 (2인 1실): 기본
  - 싱글룸 (1인 1실): +₩330,000

### 실시간 가격 계산기
```
기본 요금: ₩1,290,000 × [인원수]
싱글룸 추가: ₩330,000 × [싱글룸 수]
─────────────────────────
총 금액: ₩[계산된 금액]
```

### 포함 사항 요약
- ✅ 왕복 항공권
- ✅ 호텔 3박
- ✅ 전용 차량
- ✅ 모든 식사 (1회 자유식 제외)
- ✅ 관광지 입장료
- ✅ 가이드 경비 및 팁

---

## 2. 예약자 정보 입력 폼

### 회원 인증 (Clerk 연동)
- 로그인 상태: 저장된 정보 자동 로드
- 비로그인: 게스트 예약 가능

### 기본 정보
- **성명 (한글)**: [텍스트 입력]
- **성명 (영문)**: [텍스트 입력] - 여권과 동일하게
- **생년월일**: [날짜 선택]
- **성별**: [라디오 버튼: 남/여]
- **연락처**: [전화번호 입력]
  - 형식: 010-0000-0000
- **이메일**: [이메일 입력]
  - 예약 확인서 발송용

### 여권 정보 (선택)
- **여권 번호**: [텍스트 입력]
- **여권 만료일**: [날짜 선택]
- 안내 문구: "여권 유효기간은 출발일 기준 6개월 이상이어야 합니다"

### 특별 요청사항
- **식이 제한**: [체크박스]
  - 채식
  - 할랄
  - 알레르기 (상세 입력란)
  - 기타
- **의료 정보**: [텍스트 영역]
  - 가이드가 알아야 할 건강 정보
- **기타 요청**: [텍스트 영역]

---

## 3. 참가자 정보 입력 (다중 인원 시)

인원수에 따라 동적으로 생성되는 폼:

### 참가자 [N]
- **성명 (한글)**: [텍스트 입력]
- **성명 (영문)**: [텍스트 입력]
- **생년월일**: [날짜 선택]
- **성별**: [라디오 버튼]
- **여권 번호**: [텍스트 입력]
- **연락처**: [전화번호 입력]

**버튼**: 
- "참가자 추가" 
- "참가자 삭제"

---

## 4. 객실 배정

### 룸메이트 배정
- 참가자 리스트에서 선택
- 드래그 앤 드롭으로 룸메이트 매칭
- 싱글룸 선택 시 추가 비용 자동 계산

예시 UI:
```
[객실 1] 더블룸
 └ 참가자 A
 └ 참가자 B

[객실 2] 싱글룸 (+₩330,000)
 └ 참가자 C
```

---

## 5. 결제 방법 선택

### 결제 수단
- **신용카드** (기본 선택)
  - VISA
  - 마스터카드
  - JCB
  - 국내 카드 (BC, 삼성, 현대 등)
  
- **계좌이체**
  - 은행 선택 드롭다운
  - 계좌번호 자동 표시
  - 입금자명 입력

- **간편결제** (선택)
  - 카카오페이
  - 네이버페이
  - 토스

### 할부 옵션 (신용카드 선택 시)
- 일시불
- 무이자 할부: 3개월, 6개월 (5만원 이상)
- 일반 할부: 12개월, 24개월

### 결제 금액 확인
```
기본 요금: ₩1,290,000 × 2명 = ₩2,580,000
싱글룸 추가: ₩330,000 × 1 = ₩330,000
─────────────────────────────────────
총 결제 금액: ₩3,030,000
```

---

## 6. 약관 및 동의

### 필수 동의 (체크박스)
- ✅ **여행 약관 동의** [전문 보기]
  - 팝업 또는 모달로 전체 약관 표시
- ✅ **개인정보 수집 및 이용 동의** [전문 보기]
- ✅ **결제 규정 동의** [전문 보기]

### 선택 동의
- ☐ **마케팅 정보 수신 동의** (이메일, SMS)
- ☐ **여행자 보험 가입** (+₩50,000)
  - 보험 안내: 상해, 질병, 휴대품 등 보장

---

## 7. 예약 옵션

### 버튼 배치
- **[예약 임시 저장]** (회원 전용)
  - 마이페이지에서 이어서 작성 가능
  
- **[결제하기]** (Primary 버튼)
  - 금액 표시: "₩3,030,000 결제하기"
  - 클릭 시 최종 확인 모달

### 최종 확인 모달
```
예약 정보를 확인해주세요

패키지: 글로벌트리브 로타리 세계대회 특별 투어
출발일: 2026년 6월 13일
인원: 2명
총 금액: ₩3,030,000

[취소]  [결제 진행]
```

---

## 8. 결제 완료 페이지

### 예약 완료 안내
- ✅ 예약이 완료되었습니다!
- **예약 번호**: MT-20261234567
- **예약자명**: 홍길동
- **예약일**: 2025년 11월 13일

### 예약 내역 요약
- 패키지명
- 출발일/귀국일
- 인원
- 총 결제 금액
- 결제 수단

### 다음 단계 안내
1. **예약 확인서 이메일 발송**
   - 입력하신 이메일로 예약 확인서가 발송되었습니다
   
2. **서류 준비**
   - 여권 사본 제출 (출발 2주 전까지)
   - 이메일: booking@mintour.com
   
3. **출발 전 안내**
   - 출발 1주일 전 최종 안내문 발송
   - 현지 가이드 연락처 안내

### 액션 버튼
- **[예약 확인서 다운로드]** (PDF)
- **[영수증 다운로드]** (PDF)
- **[마이페이지로 이동]**
- **[홈으로 이동]**

### 고객센터 안내
- 문의사항이 있으신가요?
- 전화: 02-1234-5678
- 이메일: support@mintour.com
- 카카오톡: @민투어
- 운영시간: 평일 09:00-18:00

---

## 9. 추가 기능

### 유효성 검사
- 실시간 입력 검증
- 필수 항목 누락 시 경고
- 이메일, 전화번호 형식 검증
- 여권 유효기간 자동 체크

### 자동 저장
- 5분마다 로컬스토리지에 임시 저장
- 페이지 이탈 시 경고
- 재방문 시 작성 중인 폼 복원 제안

### 모바일 최적화
- 반응형 레이아웃
- 터치 친화적 UI
- 간편 입력 (주소 자동완성 등)

### 보안
- SSL 암호화
- 개인정보 마스킹 (**)
- PCI DSS 준수 (카드 결제)

---

## 디자인 요구사항

### 레이아웃
- 2단 레이아웃 (데스크톱)
  - 좌측: 폼
  - 우측: 예약 요약 (sticky)
- 1단 레이아웃 (모바일)
  - 상단: 접을 수 있는 예약 요약
  - 하단: 폼

### 색상 및 스타일
- Primary 색상: Navy (#1e3a8a)
- Accent 색상: Gold (#fbbf24)
- 경고 색상: Red (#ef4444)
- 성공 색상: Green (#10b981)

### 프로그레스 바
- 단계 표시: 1) 정보 입력 → 2) 결제 → 3) 완료
- 현재 단계 하이라이트

### 인터랙션
- 폼 입력 시 부드러운 포커스 효과
- 버튼 호버 시 색상 변화
- 로딩 스피너 (결제 처리 중)

---

## 기술 스택

- React/Next.js
- TypeScript
- Tailwind CSS
- React Hook Form (폼 관리)
- Zod (유효성 검사)
- Stripe/Toss Payments (결제 연동)
- Clerk (인증)
- Supabase (데이터 저장)

---

## Supabase 데이터 구조

### bookings 테이블
```sql
{
  id: uuid,
  booking_number: string,
  user_id: uuid (foreign key),
  package_id: uuid,
  departure_date: date,
  total_guests: integer,
  total_amount: decimal,
  payment_status: enum,
  created_at: timestamp
}
```

### guests 테이블
```sql
{
  id: uuid,
  booking_id: uuid (foreign key),
  name_ko: string,
  name_en: string,
  birth_date: date,
  gender: enum,
  passport_number: string,
  phone: string,
  special_requests: text
}
```

### rooms 테이블
```sql
{
  id: uuid,
  booking_id: uuid (foreign key),
  room_type: enum (double/single),
  guest_ids: array
}
```
